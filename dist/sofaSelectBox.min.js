/**
 * angular-sofa-select-box - v0.1.0 - Tue Dec 23 2014 12:06:50 GMT+0100 (CET)
 * http://www.sofa.io
 *
 * Copyright (c) 2014 CouchCommerce GmbH (http://www.couchcommerce.com / http://www.sofa.io) and other contributors
 * THIS SOFTWARE CONTAINS COMPONENTS OF THE SOFA.IO COUCHCOMMERCE SDK (WWW.SOFA.IO)
 * IT IS PROVIDED UNDER THE LICENSE TERMS OF THE ATTACHED LICENSE.TXT.
 */
!function(e){e.module("sofa-select-box.tpl.html",[]).run(["$templateCache",function(e){e.put("sofa-select-box.tpl.html",'<div class="sofa-select-box">\n    <span class="sofa-select-box__value" ng-class="{\'sofa-select-box__value--choose\': !model && chooseText}" ng-bind="displayFn(model) || chooseText"></span>\n    <i class="sofa-select-box__icon"></i>\n    <select sofa-name="propertyName"\n            ng-required="{{required}}"\n            class="sofa-select-box__native"\n            ng-model="model"\n            ng-options="displayFn(val) for val in data">\n        <option ng-if="chooseText" value="">-- {{chooseText}} --</option>\n    </select>\n</div>')}]),e.module("sofa.selectBox",["sofa-select-box.tpl.html","sofa.name"]),e.module("sofa.selectBox").directive("sofaSelectBox",function(){"use strict";var o=function(o){if(o.model){for(var a=!1,t=0;t<o.data.length;t++)if(e.equals(o.data[t],o.model)){o.model=o.data[t],a=!0;break}a||(o.model=null)}o.model||o.chooseText||!o.data.length||(o.model=o.data[0])};return{restrict:"E",replace:!0,scope:{model:"=",data:"=",propertyName:"@",required:"=?",chooseText:"=?",displayValueExp:"&"},templateUrl:"sofa-select-box.tpl.html",link:function(a){a.data&&o(a),a.$watchCollection("data",function(e,t){e!==t&&o(a)});var t=a.displayValueExp();if(a.displayFn=function(e){return e},e.isFunction(t))a.displayFn=t;else if(e.isString(t)){var l=t.split(".");a.displayFn=function(e){if(!e)return e;var o=e;return l.forEach(function(e){o=o[e]}),o}}}}})}(angular);